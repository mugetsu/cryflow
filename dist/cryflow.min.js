var Cryflow=function(e){"use strict";function t(e,t,n,r,s,a,o,i,u,h){"boolean"!=typeof o&&(u=i,i=o,o=!1);var d="function"==typeof n?n.options:n;e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,s&&(d.functional=!0)),r&&(d._scopeId=r);var l;if(a?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,u(e)),e&&e._registeredComponents&&e._registeredComponents.add(a)},d._ssrRegister=l):t&&(l=o?function(){t.call(this,h(this.$root.$options.shadowRoot))}:function(e){t.call(this,i(e))}),l)if(d.functional){var f=d.render;d.render=function(e,t){return l.call(t),f(e,t)}}else{var c=d.beforeCreate;d.beforeCreate=c?[].concat(c,l):[l]}return n}function n(e){n.installed||(n.installed=!0,e.component("Cryflow",r))}var r=t({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"cryflow"})},staticRenderFns:[]},void 0,{name:"Cryflow",props:{chars:{type:String,default:"!<>-_\\/[]{}â€”=+*^?#________"},phrases:{type:Array,default:function(){return[]}}},data:function(){return{updatedText:null,resolve:null,queue:[],frameRequest:null,frame:null}},methods:{setText:function(e){var t=this,n=this.$el.textContent,r=Math.max(n.length,e.length),s=new Promise(function(e){return t.resolve=e,t.resolve});this.queue=[];for(var a=0;a<r;a++){var o=n[a]||"",i=e[a]||"",u=Math.floor(40*Math.random()),h=u+Math.floor(40*Math.random());this.queue.push({from:o,to:i,start:u,end:h})}return cancelAnimationFrame(this.frameRequest),this.frame=0,this.updateText(),s},updateText:function(){for(var e="",t=0,n=0,r=this.queue.length;n<r;n++){var s=this.queue[n],a=s.from,o=s.to,i=s.start,u=s.end,h=s.char;this.frame>=u?(t++,e+=o):this.frame>=i?((!h||Math.random()<.28)&&(h=this.randomChar(),this.queue[n].char=h),e+='<span class="dud">'+h+"</span>"):e+=a}this.$el.innerHTML=e,t===this.queue.length?this.resolve():(this.frameRequest=requestAnimationFrame(this.updateText.bind(this)),this.frame++)},randomChar:function(){return this.chars[Math.floor(Math.random()*this.chars.length)]}},mounted:function(){var e=this;this.updatedText=this.updateText.bind(this);var t=0,n=function(){e.setText(e.phrases[t]).then(function(){setTimeout(n,800)}),t=(t+1)%e.phrases.length};n()}},void 0,!1,void 0,void 0,void 0),s={install:n},a=null;return"undefined"!=typeof window?a=window.Vue:"undefined"!=typeof global&&(a=global.vue),a&&a.use(s),r.install=n,e.default=r,e}({});
