var Cryflow=function(e){"use strict";function t(e,t,n,r,s,a,i,o,u,l){"boolean"!=typeof i&&(u=o,o=i,i=!1);var h="function"==typeof n?n.options:n;e&&e.render&&(h.render=e.render,h.staticRenderFns=e.staticRenderFns,h._compiled=!0,s&&(h.functional=!0)),r&&(h._scopeId=r);var d;if(a?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,u(e)),e&&e._registeredComponents&&e._registeredComponents.add(a)},h._ssrRegister=d):t&&(d=i?function(){t.call(this,l(this.$root.$options.shadowRoot))}:function(e){t.call(this,o(e))}),d)if(h.functional){var f=h.render;h.render=function(e,t){return d.call(t),f(e,t)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,d):[d]}return n}function n(e){n.installed||(n.installed=!0,e.component("Cryflow",r))}var r=t({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"cryflow"})},staticRenderFns:[]},void 0,{name:"Cryflow",props:{chars:{type:String,default:"!<>-_\\/[]{}â€”=+*^?#________"},phrases:{type:Array,default:function(){return[]}}},data:function(){return{el:null,updatedText:null,resolve:null,queue:[],frameRequest:null,frame:null}},methods:{setText:function(e){var t=this,n=this.el.innerText,r=Math.max(n.length,e.length),s=new Promise(function(e){return t.resolve=e,t.resolve});this.queue=[];for(var a=0;a<r;a++){var i=n[a]||"",o=e[a]||"",u=Math.floor(40*Math.random()),l=u+Math.floor(40*Math.random());this.queue.push({from:i,to:o,start:u,end:l})}return cancelAnimationFrame(this.frameRequest),this.frame=0,this.updateText(),s},updateText:function(){for(var e="",t=0,n=0,r=this.queue.length;n<r;n++){var s=this.queue[n],a=s.from,i=s.to,o=s.start,u=s.end,l=s.char;this.frame>=u?(t++,e+=i):this.frame>=o?((!l||Math.random()<.28)&&(l=this.randomChar(),this.queue[n].char=l),e+='<span class="dud">'+l+"</span>"):e+=a}this.el.innerHTML=e,t===this.queue.length?this.resolve():(this.frameRequest=requestAnimationFrame(this.updateText.bind(this)),this.frame++)},randomChar:function(){return this.chars[Math.floor(Math.random()*this.chars.length)]}},mounted:function(){var e=this;this.el=this.$el,this.updatedText=this.updateText.bind(this);var t=0,n=function(){e.setText(e.phrases[t]).then(function(){setTimeout(n,800)}),t=(t+1)%e.phrases.length};n()}},void 0,!1,void 0,void 0,void 0),s={install:n},a=null;return"undefined"!=typeof window?a=window.Vue:"undefined"!=typeof global&&(a=global.vue),a&&a.use(s),r.install=n,e.default=r,e}({});
